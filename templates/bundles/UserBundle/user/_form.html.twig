{% trans_default_domain 'user_bundle' %}
{{ form_start(form, { 'attr' : { 'class' : ''} }) }}
<div class="container-fluid">

	<div class="row">
		{% if is_granted('ROLE_SUPER_ADMIN') %}
			<div class="form-group col-lg-4">
					{{ form_label(form.udala) }}
					{{ form_errors(form.udala) }}
					{{ form_widget(form.udala, {'attr': {'class': 'form-group'}}) }}
			</div>
		{% endif %}
		<div class="form-group col-lg-2">
			{{ form_label(form.username) }}
			<span class="text-danger">{{ form_errors(form.username) }}</span>
			{{ form_widget(form.username, {'attr': {'class': 'col-sm-2 control-label'}}) }}
		</div>
		<div class="form-group col-lg-2">
			{{ form_label(form.firstName) }}
			<span class="text-danger">{{ form_errors(form.firstName) }}</span>
			{{ form_widget(form.firstName, {'attr': {'class': 'col-sm-2 control-label'}}) }}
		</div>
		<div class="form-group col-lg-3">
			{{ form_label(form.email) }}
			<span class="text-danger">{{ form_errors(form.email) }}</span>
			{{ form_widget(form.email, {'attr': {'class': 'col-sm-2 control-label'}}) }}
		</div>
		<div class="checkbox col-lg-1">
			{{ form_label(form.activated) }}
			{{ form_widget(form.activated, {'attr': {'class': ''}}) }}
		</div>
	</div>
	<div class="row m-1">
		{% if not readonly and password_change %}
			<div class="form-group col-lg-3">
				{{ form_label(form.password.first) }}
				<span class="text-danger">{{ form_errors(form.password.first) }}</span>
				{{ form_widget(form.password.first, {'attr': {'class': 'control-label', 'data-controller' : 'readonly-remove', 'readonly': "readonly"}}) }}
				{{ form_label(form.password.second) }}
				{{ form_widget(form.password.second, {'attr': {'class': 'control-label', 'data-controller' : 'readonly-remove', 'readonly': "readonly"}}) }}
			</div>
		{% endif %}
		<div class="form-group col-lg-3">
			{{ form_label(form.roles) }}
			{{ form_widget(form.roles, {'attr': {'class': 'ml-1 form-control form-control-sm'}}) }}
		</div>
	</div>
</div>
{# Bakarrik goiko menuan uzten ditugu botoiak #}
{# 
<div class="row justify-content-center mt-2 mb-2">
{% if not readonly %}
	<div class="col-lg-auto">
		<button class="btn btn-primary" type="submit">{{ "btn.user.save" | trans }}</button>
	</div>
{% endif %}
	<div class="col-lg-auto">
		<a href="{{ returnUrl is defined and not returnUrl is empty ? returnUrl : path('admin_user_list') }}" class="btn btn-secondary">{{ "btn.user.cancel" | trans }}</a>
	</div>
</div> #}

<!-- Token CSRF -->
{{ form_widget(form._token) }}
<div class="hidden">
	{{ form_end(form, {'render_rest': false, 
						'attr': {'class': '',
						} 
	}) }}
</div>
